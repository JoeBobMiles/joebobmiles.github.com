<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.e895b79291f301a3076d.css" id="gatsby-global-css">@import url(https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,300;0,600;1,300;1,600&display=swap);.Layout-module--container--2DmHh .Layout-module--footer--3HSw1,.Layout-module--container--2DmHh .Layout-module--header--3m-wz,.Layout-module--container--2DmHh .Layout-module--main--2NQHS{display:grid;grid-template-columns:1fr 8px 75ch 8px 1fr}@media screen and (max-width:750px){.Layout-module--container--2DmHh .Layout-module--footer--3HSw1,.Layout-module--container--2DmHh .Layout-module--header--3m-wz,.Layout-module--container--2DmHh .Layout-module--main--2NQHS{grid-template-columns:8px auto 8px}}.Layout-module--container--2DmHh .Layout-module--footer--3HSw1 *,.Layout-module--container--2DmHh .Layout-module--header--3m-wz *,.Layout-module--container--2DmHh .Layout-module--main--2NQHS *{grid-column:3}@media screen and (max-width:750px){.Layout-module--container--2DmHh .Layout-module--footer--3HSw1 *,.Layout-module--container--2DmHh .Layout-module--header--3m-wz *,.Layout-module--container--2DmHh .Layout-module--main--2NQHS *{grid-column:2}}.Layout-module--container--2DmHh .Layout-module--header--3m-wz{margin-bottom:4em}.Layout-module--container--2DmHh .Layout-module--header--3m-wz a{color:#111;text-decoration:none}.Layout-module--container--2DmHh .Layout-module--header--3m-wz h1{font-size:1em;font-style:normal;text-transform:uppercase}.Layout-module--container--2DmHh .Layout-module--footer--3HSw1{margin-top:4em}*{margin:0;padding:0;box-sizing:border-box}body{font-family:IBM Plex Mono,Monaco,Consolas,monospace;line-height:1.618;color:#111;background-color:#fff;font-size:14px}@media screen and (min-width:320px){body{font-size:calc(12.54545px + .45455vw)}}@media screen and (min-width:1200px){body{font-size:18px}}.index-module--articleBlurb--2HblQ{color:#111;text-decoration:none}.index-module--articleBlurb--2HblQ:not(:first-of-type){margin-top:4em}.index-module--articleBlurb--2HblQ h3{font-size:2em;font-style:italic;line-height:1;margin:0}.index-module--articleBlurb--2HblQ h3 span{color:#888;font-size:1rem;font-style:normal;font-weight:300}.index-module--articleBlurb--2HblQ p{margin-top:1em;line-height:1.5}.Post-module--articleHeader--xkrLq h1{font-size:4em;margin:0 0 1rem}.Post-module--articleHeader--xkrLq time{font-size:1em;color:#888}.Post-module--post--9eFvW h1,.Post-module--post--9eFvW h2,.Post-module--post--9eFvW h3,.Post-module--post--9eFvW h4,.Post-module--post--9eFvW h5,.Post-module--post--9eFvW h6{margin-top:1.5em;font-size:1em;font-style:italic;line-height:1em}.Post-module--post--9eFvW h1{font-size:2em}.Post-module--post--9eFvW h2,.Post-module--post--9eFvW h3{font-style:normal}.Post-module--post--9eFvW aside:not(:first-child),.Post-module--post--9eFvW blockquote:not(:first-child),.Post-module--post--9eFvW figure:not(:first-child),.Post-module--post--9eFvW ol:not(:first-child),.Post-module--post--9eFvW p:not(:first-child),.Post-module--post--9eFvW pre:not(:first-child),.Post-module--post--9eFvW ul:not(:first-child){margin-top:1.5em}.Post-module--post--9eFvW a:-webkit-any-link{color:#888}.Post-module--post--9eFvW a:any-link{color:#888}.Post-module--post--9eFvW blockquote{grid-column:2/span 2;padding-left:22px;border-left:2px solid #111;font-style:italic}@media screen and (max-width:750px){.Post-module--post--9eFvW blockquote{grid-column:1/span 2}}.Post-module--post--9eFvW ol,.Post-module--post--9eFvW ul{padding-left:32px}.Post-module--post--9eFvW ol.Post-module--contains-task-list--3qytx,.Post-module--post--9eFvW ul.Post-module--contains-task-list--3qytx{list-style:none}.Post-module--post--9eFvW ol.Post-module--contains-task-list--3qytx li.Post-module--task-list-item--2sht6,.Post-module--post--9eFvW ul.Post-module--contains-task-list--3qytx li.Post-module--task-list-item--2sht6{position:relative}.Post-module--post--9eFvW ol.Post-module--contains-task-list--3qytx li.Post-module--task-list-item--2sht6 input[type=checkbox],.Post-module--post--9eFvW ul.Post-module--contains-task-list--3qytx li.Post-module--task-list-item--2sht6 input[type=checkbox]{position:absolute;top:9px;left:-32px;-moz-appearance:none;-webkit-appearance:none;-o-appearance:none;width:16px;height:16px;outline:1px solid #111}.Post-module--post--9eFvW img{max-width:100%;height:auto}.Post-module--post--9eFvW pre{width:100%;grid-column:2/span 3;line-height:1;overflow-x:auto;padding:1em 8px;background:#111;color:#fff}@media screen and (max-width:750px){.Post-module--post--9eFvW pre{grid-column:1/span 3}}.Post-module--post--9eFvW pre code{padding:0;background:none}.Post-module--post--9eFvW code{font-size:.8em;font-family:ibm plex mono,monospace}.Post-module--post--9eFvW figure{grid-column:2/span 3;padding:0 8px;display:flex;flex-flow:column;align-items:center}@media screen and (max-width:750px){.Post-module--post--9eFvW figure{grid-column:1/span 3}}.Post-module--post--9eFvW figure figcaption{font-style:italic;color:#888}.Post-module--post--9eFvW figure.Post-module--wide--2yOoR{grid-column:1/-1;width:100%}.Post-module--post--9eFvW sup{font-size:.6em;padding-left:4px}.Post-module--post--9eFvW sup a{color:#111;text-decoration:none}.Post-module--post--9eFvW hr{border:none;outline:none;height:3em}.Post-module--post--9eFvW .Post-module--footnote-backref--12Dmd{color:#111;text-decoration:none}.Post-module--post--9eFvW aside{grid-column-start:5;width:50%;font-style:italic;font-size:.75em;padding-left:16px}@media screen and (max-width:750px){.Post-module--post--9eFvW aside{grid-column:2;width:100%;padding-left:0}}</style><meta name="generator" content="Gatsby 2.30.2"/><script>window.goatcounter={no_onload:true,};</script><script async="" data-goatcounter="https://jrm-dev.goatcounter.com/count" src="https://gc.zgo.at/count.js"></script><link as="script" rel="preload" href="/webpack-runtime-8141a3128a8b7d67b757.js"/><link as="script" rel="preload" href="/framework-dbb498007a7447f28d8e.js"/><link as="script" rel="preload" href="/app-c37f6acb825be0b72f88.js"/><link as="script" rel="preload" href="/styles-e9d24b1846c7d6eb9685.js"/><link as="script" rel="preload" href="/6cd6cca8ba4313667c6c4c5ce47e54f0d8414cc1-6603ddcc3717052aa4c7.js"/><link as="script" rel="preload" href="/component---src-templates-post-tsx-1644dbd17f6dc2191751.js"/><link as="fetch" rel="preload" href="/page-data/barbones-gatsby/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1985666601.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><noscript><img src="https://jrm-dev.goatcounter.com/count?p=/barbones-gatsby/"/></noscript><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main class="Layout-module--container--2DmHh"><header class="Layout-module--header--3m-wz"><a href="/"><h1>JRM.DEV</h1></a></header><main class="Layout-module--main--2NQHS"><header class="Post-module--articleHeader--xkrLq"><time>21 March, 2020</time><h1>Barebones Gatsby</h1></header><article class="Post-module--post--9eFvW"><p>After days of frustrated floundering with starters, plugins, and Gatsby’s
generally lacking in straight-forward-ness, I’ve decided to start my own
little bootstrapping guide. The purpose of this guide is to demystify how the
fuck Gatsby works and to better come to grips with how plugins, transformers,
and the various other chicanery, work.</p><h1>For Starters</h1><p>We all have to start somewhere, and that’s where Gatsby’s starters come in.
What’s a starter? Well, in Gatsby, you have two options: build the project
from scratch using npm and your text editor, or make Gatsby write all the
boilerplate for you. Starters allow you to specify what kind of boilerplate
you want to start your site with. Gatsby has a default starter, but as near
as I can tell, it’s intended to be a quickstart for people who already know
what they’re doing.</p><p>As you can imagine, that’s a problem for people like us who don’t know what
they’re doing.</p><p>I tried looking around for a barebones Gatsby starter that literally only had
Gatsby and React installed, but any variation of “minimal”, “barebones”, and
“empty” I put into Google just left me with either reskinned versions of the
blog starter or random articles about Gatsby starters. Bleck.</p><p>That left me with creating my own. The process to get there looked a little
like this:</p><figure>
  <img title="Oh good, my puppy found the chainsaw" alt="Stitch, a blue alien creature, stands on top of a rusty Volkswagon Beetle, laughing maniacly and brandishing a chainsaw." src="/images/8f9e9ffb6ed10927cd17d12058a7d49d/StitchWithChainsaw.gif"/>
  <figcaption>
    &quot;Oh good, my puppy found the chainsaw&quot;
  </figcaption></figure><p>Yeah… If you don’t want to go crazy and tear up a bunch of code, I turned the
torn down code into its own Gatsby starter:
<a href="https://github.com/joebobmiles/gatsby-starter-empty">https://github.com/joebobmiles/gatsby-starter-empty</a>. To use it, we first need
to install Gatsby (if you haven’t already):</p><pre><code>$ npm install --global gatsby-cli
</code></pre><p>As you probably notice, Gatsby informs us that it’s configured to report to
its overlords by default. (I have multiple issues with this, but that’s a
subject for a different article.)</p><pre><code>&gt; gatsby-cli@2.10.13 postinstall C:\Users\josep\AppData\Roaming\npm\node_modules\gatsby-cli
&gt; node scripts/postinstall.js

╔════════════════════════════════════════════════════════════════════════╗
║                                                                           ║
║ Gatsby collects anonymous usage analytics                                 ║
║ to help improve Gatsby for all users.                                     ║
║                                                                           ║
║ If you&#x27;d like to opt-out, you can use `gatsby telemetry --disable`        ║
║ To learn more, checkout https://gatsby.dev/telemetry                      ║
║                                                                           ║
╚════════════════════════════════════════════════════════════════════════╝
</code></pre><p>I don’t like my apps reporting to their overlords, so I disabled telemetry.</p><p>Now that we have Gatsby installed, we can go about setting up our project. To
do so, use the following command:</p><pre><code>$ gatsby new PersonalSite https://github.com/joebobmiles/gatsby-starter-empty
</code></pre><p>This will clone the starter repository and rename the cloned directory to
PersonalSite. You can name your folder to whatever you want, so feel free to
change the name given to the Gatsby CLI.</p><p>Congrats, you just created your first Gatsby project! Yay!</p><h1>A Tour of the Carnage</h1><p>Inside the folder you just cloned, you’ll find the following directory
structure:</p><pre><code>PersonalSite
|- src/
|  |- pages/
|  |  |- 404.js
|  |  |- index.js
|- static/
|  |- favicon.ico
|  |- robots.txt
|- .gitignore
|- gatsby-config.js
|- package.json
</code></pre><p>You will notice, aside from the gitignore, favicon, and robots file, we are
left with four files of interest: package.json, gatsby-config.js,
src/pages/index.js, and src/pages/404.js. The package.json is pretty standard
(and bare), so we’ll skip over that.</p><p>The next file, gatsby-config.js, is, you guessed it, the Gatsby config file.
This is used to control the build configuration that Gatsby uses to turn your
source code and data into a beautiful static website. There’s a lot that goes
into here once you get going, but for just starting out, you don’t need much:</p><pre><code>module.exports = {
  siteMetadata: {
    title: `My Blog`,
    author: {
        name: `Full Name`,
    },
    siteUrl: `https://example.dev`,
  },
  plugins: [],
}
</code></pre><p>In theory, this could be completely empty, but to save everybody time writing
the basics from scratch, I left the siteMetadata and plugins fields. The
plugins field is empty because, well, we’re not using any to run this basic
starter. I’ll talk about using plugins at a later time.</p><p>Now to the site itself: index.js and 404.js. Both are required by Gatsby, so
I had to leave them in there (and inside the pages directory). They’re fairly
simple:</p><p>index.js</p><pre><code>import React from &quot;react&quot;

const Site = () =&gt; (
  &lt;h1&gt;Hello World!&lt;/h1&gt;
)

export default Site
</code></pre><p>404.js</p><pre><code>import React from &quot;react&quot;

const NotFoundPage = () =&gt; (
  &lt;h1&gt;404 - That&#x27;s an error!&lt;/h1&gt;
)

export default NotFoundPage
</code></pre><p>Both files declare React function components, and set them to be default
exports. When the Gatsby build runs, it seeks out these files, imports their
default exports, and uses them to generate an index.html, plus a bundled
common.js that contains the Site and NotFoundPage components.
Now, if we startup the Gatsby development server using:</p><pre><code>$ npm run develop # or `gatsby develop`
</code></pre><p>And visit <code>http://localhost:8000</code> (after waiting for the development server
to build the site), we should be greeted with a lovely “Hello World!” HTML
page! Awesome!</p></article></main><footer class="Layout-module--footer--3HSw1"><p>© <!-- -->Joseph R Miles<!-- --> <!-- -->2021</p></footer></main></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/barbones-gatsby/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-e4957c11759bdfc149d9.js"],"app":["/app-c37f6acb825be0b72f88.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-38c52949a0455ae0411a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-e7d3a5751261577ef522.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-1644dbd17f6dc2191751.js"]};/*]]>*/</script><script src="/polyfill-e4957c11759bdfc149d9.js" nomodule=""></script><script src="/component---src-templates-post-tsx-1644dbd17f6dc2191751.js" async=""></script><script src="/6cd6cca8ba4313667c6c4c5ce47e54f0d8414cc1-6603ddcc3717052aa4c7.js" async=""></script><script src="/styles-e9d24b1846c7d6eb9685.js" async=""></script><script src="/app-c37f6acb825be0b72f88.js" async=""></script><script src="/framework-dbb498007a7447f28d8e.js" async=""></script><script src="/webpack-runtime-8141a3128a8b7d67b757.js" async=""></script></body></html>